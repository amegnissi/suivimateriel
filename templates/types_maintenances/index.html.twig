{% extends 'base_table.html.twig' %}
{% block title %}Types de Maintenances{% endblock %}
{% block breadcrumb %}Types de Maintenances{% endblock %}
{% block  breadcrumb_item %} Types de Maintenances{% endblock %}
{% block  breadcrumb_t %} Gestion des Types de Maintenances{% endblock %}
{% block table_titre %}Liste des Types de Maintenances{% endblock %}
{% block btntitle %}Ajouter un type{% endblock %}
{% block btnpath %}{{ path('types_maintenances_create') }}{% endblock %}
{% block tableContent %}
    <thead>
    <tr>
        <th>N°</th>
        <th>Libellé</th>
        <th>Maintenances Associés</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>

    {% for typesMaintenance in pagination %}
        <tr>
            <td>{{ loop.index }}</td>
            <td>{{ typesMaintenance.libelle ?: 'N/A' }}</td>
            <td>
                <span class="badge bg-gradient-success">{{ typesMaintenance.maintenances|length ?: 0 }}</span>
            </td>
            <td class="align-middle text-center">
                <div class="common-align gap-2 justify-content-start">
                <a  href="{{ path('types_maintenances_edit', { 'id': typesMaintenance.id }) }}"
                    class="
         btn btn-success btn-sm">  <i class="far fa-edit"></i></a>
                <form action="{{ path('types_maintenances_delete', { 'id': typesMaintenance.id }) }}" method="POST" class="d-inline">
                    <input type="hidden" name="_method" value="DELETE">
                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ typesMaintenance.id) }}">
                    <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Êtes-vous sûr de vouloir supprimer ce type de Maintenance ?');">
                        <i class="fa fa-trash"></i>
                    </button>
                </form>
                </div>
            </td>
        </tr>
    {% else %}
        <tr>
            <td colspan="4" class="text-center text-secondary">Aucun type de Maintenance
                trouvé.</td>
        </tr>
    {% endfor %}
    </tbody>


{% endblock %}
