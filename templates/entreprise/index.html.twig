{% extends 'baseC.html.twig' %}


{% block title %}Enregistrer Entreprise{% endblock %}
{% block breadcrumb %}POSTE{% endblock %}
{% block  breadcrumb_item %} Gestion des entreprises{% endblock %}
{% block  breadcrumb_t %} Details de l'entreprise{% endblock %}
{% block content %}

    <div class="container-fluid py-4">
        {% if entreprise %}

            <div class="user-profile">
                <div class="row">
                    <!-- user profile first-style start-->
                    <div class="col-sm-12">
                        <div class="card hovercard text-center common-user-image">
                            <div class="cardheader" style="height: 235px;">
                                <div class="user-image">
                                    <div class="avatar">
                                        <div class="common-align">
                                            <div>
                                                {% if entreprise.logo %}
                                                    <img id="output" src="{{ asset('uploads/' ~ entreprise.logo) }}"
                                                         alt="Profile Image">
                                                {% else %}
                                                    <img id="output" src="{{ asset('cuba/assets/images/user-card/5.jpg') }}" alt="Profile Image">
                                                {% endif %}
                                                <input type="file" accept="image/*" onchange="loadFile(event)">
                                                <div class="icon-wrapper" id="cancelButton"><i
                                                            class="icofont icofont-error"></i></div>
                                                <div class="icon-wrapper"><i class="icofont icofont-pencil-alt-5"></i></div>
                                            </div>
                                            <div class="user-designation"><a target="_blank"
                                                                             href="">{{ entreprise.nom }}</a>
                                                <div class="desc">IFU : {{ entreprise.ifu | default('Non spécifié') }}</div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- user profile first-style end-->

                    <!-- user profile menu start-->
                    <div class="col-12">
                        <div class="row scope-bottom-wrapper user-profile-wrapper">
                            <div class="col-xxl-3 col-md-3 user-xl-25 col-xl-4 box-col-4">
                                <div class="card">
                                    <div class="card-body">
                                        <ul class="sidebar-left-icons nav nav-pills" id="add-product-pills-tab"
                                            role="tablist">
                                            <li class="nav-item"><a class="nav-link active" id="target-project-tab"
                                                                    data-bs-toggle="pill" href="#target-project" role="tab"
                                                                    aria-controls="target-project" aria-selected="false">
                                                    <div class="nav-rounded">
                                                        <div class="product-icons"><i class="fa-solid fa-timeline"></i>
                                                        </div>
                                                    </div>
                                                    <div class="product-tab-content">
                                                        <h6>Informations</h6>
                                                    </div>
                                                </a></li>
                                            <li class="nav-item"><a class="nav-link" id="budget-project-tab"
                                                                    data-bs-toggle="pill" href="#budget-project" role="tab"
                                                                    aria-controls="budget-project" aria-selected="false">
                                                    <div class="nav-rounded">
                                                        <div class="product-icons"><i class="fa-solid fa-list-check"></i>
                                                        </div>
                                                    </div>
                                                    <div class="product-tab-content">
                                                        <h6>Entretien</h6>
                                                    </div>
                                                </a></li>
                                        </ul>
                                        <div class="common-flex mt-3 text-center align-items-center">
                                            <a class="btn btn-success" href="{{ path
                                                ('entreprise_edit',{'id': entreprise.id}) }}!"
                                               role="button">
                                                <i class="far fa-edit"></i>
                                                Modifier</a>
                                            {#                                            <a class="btn btn-danger" href="#!" role="button">Delete Account</a>#}
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="col-xxl-9 col-md-9 user-xl-75 col-xl-8 box-col-8e">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="tab-content" id="add-product-pills-tabContent">
                                            <div class="tab-pane fade show active" id="target-project" role="tabpanel"
                                                 aria-labelledby="target-project-tab">
                                                <div class="notification">
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <h5>Informations Générales</h5>
                                                        </div>
                                                        <div class="card-body dark-timeline">
                                                            <div class="w-100 ms-3">
                                                                <ul class="list-group">
                                                                    <li class="list-group-item border-0 ps-0 text-sm"><strong class="text-dark">Nom :</strong> &nbsp; {{ entreprise.nom | default('Non spécifié') }}</li>
                                                                    <li class="list-group-item border-0 ps-0 text-sm"><strong class="text-dark">Adresse :</strong> &nbsp; {{ entreprise.adresse | default('Non spécifiée') }}</li>
                                                                    <li class="list-group-item border-0 ps-0 text-sm"><strong class="text-dark">Téléphone :</strong> &nbsp; {{ entreprise.telephone | default('Non spécifié') }}</li>
                                                                    <li class="list-group-item border-0 ps-0 text-sm"><strong class="text-dark">Email :</strong> &nbsp; {{ entreprise.email | default('Non spécifié') }}</li>

                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="tab-pane fade" id="budget-project" role="tabpanel"
                                                     aria-labelledby="budget-project-tab">
                                                    <div class="card">
                                                        <div class="card-header">
                                                            <h5>Informations sur l'Entretien</h5>
                                                        </div>
                                                        <div class="card-body projects-wrapper">
                                                            <div class="w-100 ms-3">
                                                                <ul class="list-group">
                                                                    <li class="list-group-item border-0 ps-0 text-sm">
                                                                        <strong class="text-dark">Kilométrage avant vidange :</strong>
                                                                        &nbsp; {{ entreprise.kilometrage | default('Non spécifié') }} km
                                                                    </li>
                                                                    <li class="list-group-item border-0 ps-0 text-sm">
                                                                        <strong class="text-dark">Délai de rappel - Assurance :</strong>
                                                                        &nbsp; {{ entreprise.delaiAssurance is not null ? entreprise.delaiAssurance ~ ' jours' : 'Non spécifié' }}
                                                                    </li>
                                                                    <li class="list-group-item border-0 ps-0 text-sm">
                                                                        <strong class="text-dark">Délai de rappel - TVM :</strong>
                                                                        &nbsp; {{ entreprise.delaiTVM is not null ? entreprise.delaiTVM ~ ' jours' : 'Non spécifié' }}
                                                                    </li>
                                                                    <li class="list-group-item border-0 ps-0 text-sm">
                                                                        <strong class="text-dark">Délai de rappel - Visite technique :</strong>
                                                                        &nbsp; {{ entreprise.delaiVisiteTechnique is not null ? entreprise.delaiVisiteTechnique ~ ' jours' : 'Non spécifié' }}
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- user profile menu end-->
                    </div>
                </div>
            </div>


        {% else %}
            <div class="card card-body w-100 mx-3 mx-md-4">
                <div class="text-center text-danger">
                    <i class="material-symbols-rounded display-1">warning</i>
                    <h5 class="mt-3">Aucune entreprise enregistrée</h5>
                    <p class="text-muted">Veuillez ajouter une entreprise pour afficher ses informations.</p>
                    <a href="{{ path('entreprise_new') }}" class="btn btn-outline-primary">
                        <i class="fas fa-plus"></i> Ajouter l'entreprise
                    </a>
                </div>
            </div>
        {% endif %}
    </div>

{% endblock %}
